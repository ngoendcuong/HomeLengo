@model IEnumerable<HomeLengo.Models.Blog>

@foreach (var item in Model)
{
    var thumbnailPath = string.IsNullOrEmpty(item.Thumbnail)
        ? Url.Content("~/assets/images/blog/default.jpg")
        : Url.Content(item.Thumbnail);

    var authorName = item.Author?.FullName ?? "Admin";
    var categoryName = item.Category?.Name ?? "Chưa phân loại";
    var shortContent = !string.IsNullOrEmpty(item.Content) && item.Content.Length > 120
        ? item.Content.Substring(0, 120) + "..."
        : item.Content;

    <div class="swiper-slide">
        <a href="@Url.Action("Detail", "Blog", new { slug = item.Slug })" class="flat-blog-item hover-img">
            <div class="img-style" style="width:100%; height:250px; overflow:hidden; border-radius:10px;">
                <img class="lazyload blog-thumb"
                     data-src="~/assets/images/blog/@thumbnailPath"
                     src="~/assets/images/blog/@thumbnailPath"
                     alt="@item.Title"
                     style="width:100%; height:100%; object-fit:cover; object-position:center; display:block;" />
                <span class="date-post">
                    @(item.PublishedAt?.ToString("dd MMMM, yyyy") ?? "Chưa đăng")
                </span>
            </div>

            <div class="content-box">
                <div class="post-author">
                    <span class="fw-6">@authorName</span>
                    <span>@categoryName</span>
                </div>

                <h5 class="title link">@item.Title</h5>
                <p class="description">@Html.Raw(shortContent)</p>
            </div>
        </a>
    </div>
}
