@* Areas/RealEstateAdmin/Views/Shared/_Sidebar.cshtml *@
@{
    var roleIdStr = Context.Session.GetString("RoleId");
    int roleId = 0;
    int.TryParse(roleIdStr, out roleId);
    var isAdmin = roleId == 1;
    var isModerator = roleId == 4;
}
<aside class="main-sidebar sidebar-dark-primary elevation-4">
    <a href="/RealEstateAdmin/dashboard" class="brand-link">
        <i class="fas fa-building brand-image ml-3"></i>
        <span class="brand-text font-weight-light">Real Estate Admin</span>
    </a>

    <div class="sidebar">
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
            @* <div class="image">
                <img src="https://via.placeholder.com/160x160" class="img-circle elevation-2" alt="User">
            </div> *@
            <div class="info">
                <a href="#" class="d-block">@(Context.Session.GetString("FullName") ?? "User")</a>
            </div>
        </div>

        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">

                <!-- Dashboard - Hiển thị cho tất cả -->
                <li class="nav-item">
                    <a href="/RealEstateAdmin/dashboard" class="nav-link">
                        <i class="nav-icon fas fa-tachometer-alt"></i>
                        <p>Dashboard</p>
                    </a>
                </li>

                @if (isAdmin)
                {
                    <!-- Quản lý BĐS - Chỉ Admin -->
                    <li class="nav-item">
                        <a href="/RealEstateAdmin/properties" class="nav-link">
                            <i class="nav-icon fas fa-building"></i>
                            <p>Quản lý BĐS</p>
                        </a>
                    </li>

                    <!-- Danh mục & Thuộc tính - Chỉ Admin -->
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-folder"></i>
                            <p>
                                Danh mục & Thuộc tính
                                <i class="fas fa-angle-left right"></i>
                            </p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/categories/propertytypes" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Loại BĐS</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/categories/propertystatus" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Trạng thái</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/categories/amenities" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Tiện ích</p>
                                </a>
                            </li>
                        </ul>
                    </li>

                    <!-- Môi giới - Chỉ Admin -->
                    <li class="nav-item">
                        <a href="/RealEstateAdmin/agents" class="nav-link">
                            <i class="nav-icon fas fa-user-tie"></i>
                            <p>Môi giới</p>
                        </a>
                    </li>

                    <!-- Người dùng - Chỉ Admin -->
                    <li class="nav-item">
                        <a href="/RealEstateAdmin/users" class="nav-link">
                            <i class="nav-icon fas fa-users"></i>
                            <p>Người dùng</p>
                        </a>
                    </li>

                    <!-- Gói dịch vụ - Chỉ Admin -->
                    <li class="nav-item">
                        <a href="/RealEstateAdmin/packages" class="nav-link">
                            <i class="nav-icon fas fa-box"></i>
                            <p>Gói dịch vụ</p>
                        </a>
                    </li>
                }

                <!-- Liên hệ & Khách hàng - Hiển thị cho Admin và Moderator -->
                @if (isAdmin || isModerator)
                {
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-phone"></i>
                            <p>
                                Liên hệ & Khách hàng
                                <i class="fas fa-angle-left right"></i>
                            </p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/contacts" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Yêu cầu tư vấn</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/contacts/formcontacts" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Form liên hệ</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/contacts/feedbacks" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Phản hồi KH</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                }

                <!-- Blog / Tin tức - Hiển thị cho Admin và Moderator -->
                @if (isAdmin || isModerator)
                {
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-newspaper"></i>
                            <p>
                                Blog / Tin tức
                                <i class="fas fa-angle-left right"></i>
                            </p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/blog/categories" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Danh mục bài viết</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/blog" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Quản lý bài viết</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/blog/create" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Thêm bài viết</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                }

                <!-- Đánh giá - Bình luận - Hiển thị cho Admin và Moderator -->
                @if (isAdmin || isModerator)
                {
                    <li class="nav-item">
                        <a href="/RealEstateAdmin/reviews" class="nav-link">
                            <i class="nav-icon fas fa-star"></i>
                            <p>Đánh giá - Bình luận</p>
                        </a>
                    </li>
                }

                <!-- Câu hỏi thường gặp - Hiển thị cho Admin và Moderator -->
                @if (isAdmin || isModerator)
                {
                    <li class="nav-item">
                        <a href="/RealEstateAdmin/FAQ" class="nav-link">
                            <i class="nav-icon fas fa-question-circle"></i>
                            <p>Câu hỏi thường gặp</p>
                        </a>
                    </li>
                }

                @* @if (isAdmin)
                {
                    <!-- Cấu hình hệ thống - Chỉ Admin -->
                    <li class="nav-item">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-cog"></i>
                            <p>
                                Cấu hình hệ thống
                                <i class="fas fa-angle-left right"></i>
                            </p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/settings/general" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Cấu hình chung</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/settings/media" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Logo & Hình ảnh</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/settings/email" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Email & SMTP</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/settings/banners" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Banner & Slider</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/RealEstateAdmin/settings/notifications" class="nav-link">
                                    <i class="far fa-circle nav-icon"></i>
                                    <p>Thông báo hệ thống</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                } *@

            </ul>
        </nav>
    </div>
</aside>